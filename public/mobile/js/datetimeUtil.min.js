/*! clarenceworld_node 2015-07-07 */
(function(window,undefined){Date.prototype.Format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(fmt)){fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)))}}return fmt};var defaults={year:60*60*24*365,month:60*60*24*30,week:60*60*24*7,day:60*60*24,hour:60*60,minute:60,seconds:1};function dateTime(){var config={};this.get=function(n){return config[n]};this.set=function(n,v){config[n]=v};this.init()}dateTime.prototype={init:function(){},formatTime:function(begintime){var timeDifference;begintime=begintime.replace(new RegExp(/(\-)/g),"/");if(begintime instanceof Date){timeDifference=parseInt((new Date().getTime()-begintime.getTime())/1000)}else{if(new Date(begintime).toString()!=="Invalid Date"){timeDifference=parseInt((new Date().getTime()-new Date(begintime).getTime())/1000)}else{alert("参数不为时间类型!");return undefined}}if(timeDifference<0){return"刚刚"}var str="";if(timeDifference<defaults.minute){str="刚刚"}else{if(timeDifference<defaults.hour){var min=parseInt(timeDifference/defaults.minute);str=min+"分钟前"}else{if(timeDifference<defaults.day){var h=parseInt(timeDifference/(defaults.hour));str=h+"小时前 "}else{if(timeDifference<defaults.day*3){var d=parseInt(timeDifference/defaults.day);var htime=new Date(begintime).Format("HH:mm");if(d===1){str="昨天 "+htime}else{if(d===2){str="前天 "+htime}else{str=d+"天前"+htime}}}else{str=new Date(begintime).Format("MM-dd HH:mm")}}}}return str}};window.dateTime=window.dateTime||dateTime})(window);
/*! clarenceworld_node 最后修改于： 2015-07-07 */